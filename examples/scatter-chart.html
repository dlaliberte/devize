<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Devize - Scatter Chart</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }

    h1, h2 {
      color: #333;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .viz-container {
      width: 100%;
      height: 400px;
      border: 1px solid #ddd;
      margin: 20px 0;
      border-radius: 4px;
    }

    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
    }

    .back-link {
      display: inline-block;
      margin-top: 20px;
      color: #0066cc;
      text-decoration: none;
    }

    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Scatter Chart Example</h1>
    <p>This example demonstrates a scatter chart with declarative axes, legend, and tooltips.</p>

    <div id="visualization-container" class="viz-container"></div>

    <h2>Code</h2>
    <pre><code>// Sample data
const data = [
  { x: 10, y: 20, category: "A", size: 5 },
  { x: 30, y: 40, category: "B", size: 10 },
  { x: 50, y: 15, category: "A", size: 8 },
  { x: 70, y: 30, category: "C", size: 15 },
  { x: 90, y: 60, category: "B", size: 12 },
  { x: 45, y: 70, category: "C", size: 7 },
  { x: 25, y: 50, category: "A", size: 9 }
];

// Create a scatter chart with declarative components
const scatterChart = createViz({
  type: "group",
  transform: "translate(60, 40)",
  children: [
    // Points
    {
      type: "dataMap",
      data: data,
      map: (d) => ({
        type: "circle",
        cx: d.x * 5,
        cy: 300 - d.y * 4,
        r: d.size,
        fill: d.category === "A" ? "#3366CC" :
              d.category === "B" ? "#DC3912" : "#FF9900",
        stroke: "#fff",
        strokeWidth: 1,
        opacity: 0.7,
        tooltip: {
          content: `X: ${d.x}<br>Y: ${d.y}<br>Category: ${d.category}<br>Size: ${d.size}`
        }
      })
    },

    // X-axis
    {
      type: "axis",
      orientation: "bottom",
      length: 500,
      values: [0, 20, 40, 60, 80, 100],
      transform: "translate(0, 300)",
      title: "X Value"
    },

    // Y-axis
    {
      type: "axis",
      orientation: "left",
      length: 300,
      values: [0, 20, 40, 60, 80],
      transform: "translate(0, 0)",
      title: "Y Value"
    },

    // Legend
    {
      type: "legend",
      orientation: "vertical",
      transform: "translate(550, 50)",
      items: [
        { label: "Category A", color: "#3366CC" },
        { label: "Category B", color: "#DC3912" },
        { label: "Category C", color: "#FF9900" }
      ]
    },

    // Title
    {
      type: "text",
      x: 250,
      y: -10,
      text: "Scatter Plot Example",
      fontSize: "16px",
      fontWeight: "bold",
      textAnchor: "middle"
    }
  ]
}, document.getElementById("visualization-container"));</code></pre>

    <a href="/examples/" class="back-link">‚Üê Back to Examples</a>
  </div>

  <script type="module">
    import * as Devize from '/src/index.ts';
    import '/src/client/js/primitives/shapes.ts';
    import '/src/client/js/primitives/dataMap.ts';
    import '/src/client/js/axis-declarative.ts';
    import '/src/client/js/legend-declarative.ts';
    import '/src/client/js/primitives/tooltip-declarative.ts';

    // Sample data
    const data = [
      { x: 10, y: 20, category: "A", size: 5 },
      { x: 30, y: 40, category: "B", size: 10 },
      { x: 50, y: 15, category: "A", size: 8 },
      { x: 70, y: 30, category: "C", size: 15 },
      { x: 90, y: 60, category: "B", size: 12 },
      { x: 45, y: 70, category: "C", size: 7 },
      { x: 25, y: 50, category: "A", size: 9 }
    ];

    // Create a scatter chart with declarative components
    const scatterChart = Devize.createV
